from sys import stdin,stdout,exit
import type_A as A
import type_B as B
import type_C as C
import type_D as D
import type_E as E

PC = 0
mem = ['0'*16] * 256

text = ["1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","1000000000001010","0101000000000000"]

commands = []

for i in range(len(text)):
    text[i] = text[i].strip()
    commands.append(text[i])

commands = list(filter(lambda a: a != "",commands))

Reg_File = {'000' : 0, '001' : 0, '010' : 0, '011' : 0, '100' : 0, '101' : 0, '110' : 0, '111' : 0}

opcode = {"add": ["00000","A"],"sub":["00001","A"],"mov":["0001",""],"ld":["00100","D"],
		  "st":["00101","D"],"mul":["00110","A"],"div":["00111","C"],"rs":["01000","B"],
		  "ls":["01001","B"],"xor":["01010","A"],"or":["01011","A"],"and":["01100","A"],
		  "not":["01101","C"],"cmp":["01110","C"],"jmp":["01111","E"],"jlt":["11100","E"],
		  "jgt":["11101","E"],"je":["11111","E"],"hlt":["11010","F"]}

i=0
def mem_allocation():
    for i in range(len(commands)):
        mem[i] = commands[i]
    print(mem)
mem_allocation()

def exec(line):
    
    prev_flags=make_binary(Reg_File['111'],16)

    code=line[:5]
    type=opcode[code][1]
    if type == "A":
        line = A(line)
    elif type == "B":
        line = B(line)
    elif type == "C":
        line = C(line)
    elif type == "D":
        line = D(line)
    elif type == "E":
        line = E(line)
    
    curr_flags = make_binary(Reg_File['111'],16)
    if (curr_flags == prev_flags):
        Reg_File['111']=0

    line_output()


while mem[PC] != '1101000000000000':
    exec(mem[PC])
    if (j_PC != -1):
        PC = j_PC
        j_PC = -1
    else:
        PC += 1
